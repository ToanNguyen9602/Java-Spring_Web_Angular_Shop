{"ast":null,"code":"import { environtment } from \"../environments/environment\";\nimport { HttpHeaders, HttpParams } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ProductService {\n  constructor(http) {\n    this.http = http;\n    this.apiGetProducts = `${environtment.apiBaseUrl}/products`;\n    this.apiConfig = {\n      headers: this.createHeader()\n    };\n  }\n  createHeader() {\n    return new HttpHeaders({\n      \"Content-Type\": \"application/json\",\n      \"Accept-Language\": \"vi\"\n    });\n  }\n  getProducts(keyword, selectedCategoryId, page, limit) {\n    const params = new HttpParams().set(\"keyword\", keyword).set(\"category_id\", selectedCategoryId.toString()).set(\"page\", page.toString()).set(\"limit\", limit.toString());\n    return this.http.get(this.apiGetProducts, {\n      params\n    });\n  }\n  getDetailProduct(productId) {\n    return this.http.get(`${environtment.apiBaseUrl}/products/${productId}`);\n  }\n  getProductsByIds(productIds) {\n    //chuyển danh sách Id thành 1 chuỗi và truyền vào params\n    debugger;\n    const params = new HttpParams().set(\"ids\", productIds.join(\",\"));\n    return this.http.get(`${this.apiGetProducts}/by-id?`);\n  }\n  static #_ = this.ɵfac = function ProductService_Factory(t) {\n    return new (t || ProductService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ProductService,\n    factory: ProductService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["environtment","HttpHeaders","HttpParams","ProductService","constructor","http","apiGetProducts","apiBaseUrl","apiConfig","headers","createHeader","getProducts","keyword","selectedCategoryId","page","limit","params","set","toString","get","getDetailProduct","productId","getProductsByIds","productIds","join","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Admin\\Desktop\\ShopApp\\Java-Spring_Web_Angular_Shop\\FrontEnd\\src\\app\\service\\product.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { environtment } from \"../environments/environment\";\r\nimport { HttpClient, HttpHeaders, HttpParams } from \"@angular/common/http\";\r\n\r\nimport { Product } from \"../models/product\";\r\nimport { Observable } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class ProductService {\r\n  private apiGetProducts = `${environtment.apiBaseUrl}/products`;\r\n  private apiConfig = {\r\n    headers: this.createHeader(),\r\n  };\r\n\r\n  constructor(private http: HttpClient) {}\r\n  private createHeader(): HttpHeaders {\r\n    return new HttpHeaders({\r\n      \"Content-Type\": \"application/json\",\r\n      \"Accept-Language\": \"vi\",\r\n    });\r\n  }\r\n\r\n  getProducts(\r\n    keyword: string,\r\n    selectedCategoryId: number,\r\n    page: number,\r\n    limit: number\r\n  ): Observable<Product[]> {\r\n    const params = new HttpParams()\r\n      .set(\"keyword\", keyword)\r\n      .set(\"category_id\", selectedCategoryId.toString())\r\n      .set(\"page\", page.toString())\r\n      .set(\"limit\", limit.toString());\r\n    return this.http.get<Product[]>(this.apiGetProducts, { params });\r\n  }\r\n\r\n  getDetailProduct(productId: number) {\r\n    return this.http.get(`${environtment.apiBaseUrl}/products/${productId}`);\r\n  }\r\n\r\n  getProductsByIds(productIds: number[]): Observable<Product[]> {\r\n    //chuyển danh sách Id thành 1 chuỗi và truyền vào params\r\n    debugger\r\n    const params = new HttpParams().set(\"ids\", productIds.join(\",\"));\r\n    return this.http.get<Product[]>(`${this.apiGetProducts}/by-id?`)\r\n  }\r\n}\r\n\r\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,6BAA6B;AAC1D,SAAqBC,WAAW,EAAEC,UAAU,QAAQ,sBAAsB;;;AAQ1E,OAAM,MAAOC,cAAc;EAMzBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IALhB,KAAAC,cAAc,GAAG,GAAGN,YAAY,CAACO,UAAU,WAAW;IACtD,KAAAC,SAAS,GAAG;MAClBC,OAAO,EAAE,IAAI,CAACC,YAAY;KAC3B;EAEsC;EAC/BA,YAAYA,CAAA;IAClB,OAAO,IAAIT,WAAW,CAAC;MACrB,cAAc,EAAE,kBAAkB;MAClC,iBAAiB,EAAE;KACpB,CAAC;EACJ;EAEAU,WAAWA,CACTC,OAAe,EACfC,kBAA0B,EAC1BC,IAAY,EACZC,KAAa;IAEb,MAAMC,MAAM,GAAG,IAAId,UAAU,EAAE,CAC5Be,GAAG,CAAC,SAAS,EAAEL,OAAO,CAAC,CACvBK,GAAG,CAAC,aAAa,EAAEJ,kBAAkB,CAACK,QAAQ,EAAE,CAAC,CACjDD,GAAG,CAAC,MAAM,EAAEH,IAAI,CAACI,QAAQ,EAAE,CAAC,CAC5BD,GAAG,CAAC,OAAO,EAAEF,KAAK,CAACG,QAAQ,EAAE,CAAC;IACjC,OAAO,IAAI,CAACb,IAAI,CAACc,GAAG,CAAY,IAAI,CAACb,cAAc,EAAE;MAAEU;IAAM,CAAE,CAAC;EAClE;EAEAI,gBAAgBA,CAACC,SAAiB;IAChC,OAAO,IAAI,CAAChB,IAAI,CAACc,GAAG,CAAC,GAAGnB,YAAY,CAACO,UAAU,aAAac,SAAS,EAAE,CAAC;EAC1E;EAEAC,gBAAgBA,CAACC,UAAoB;IACnC;IACA;IACA,MAAMP,MAAM,GAAG,IAAId,UAAU,EAAE,CAACe,GAAG,CAAC,KAAK,EAAEM,UAAU,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC;IAChE,OAAO,IAAI,CAACnB,IAAI,CAACc,GAAG,CAAY,GAAG,IAAI,CAACb,cAAc,SAAS,CAAC;EAClE;EAAC,QAAAmB,CAAA,G;qBArCUtB,cAAc,EAAAuB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAd3B,cAAc;IAAA4B,OAAA,EAAd5B,cAAc,CAAA6B,IAAA;IAAAC,UAAA,EAFb;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}